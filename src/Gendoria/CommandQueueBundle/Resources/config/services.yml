services:

    gendoria_command_queue.processor_factory:
        class: Gendoria\CommandQueueBundle\ProcessorFactory\ContainerAwareProcessorFactory
        arguments: 
            - '@service_container'
            - '@?logger'
            
    gendoria_command_queue.manager:
        class: Gendoria\CommandQueue\QueueManager\MultipleQueueManager
        arguments:
            - '@?logger'
            
    gendoria_command_queue.driver.direct:
        class: Gendoria\CommandQueue\SendDriver\DirectProcessingDriver
        arguments:
            - '@gendoria_command_queue.processor_factory'
            - '@?logger'
        calls:
            - [setLogger, ['@?logger']]
